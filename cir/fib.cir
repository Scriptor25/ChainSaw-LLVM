def num fib num n
	%0  call -   %n num const num 1
	%1  call fib %0 num
	%2  call -   %n num const num 2
	%3  call fib %2 num
	%4  call +   %1 num %3    num
	%5  call ==  %n num const num 1
	%6  call ?   %5 num const num 1 %4 num
	%7  call ==  %n num const num 0
	%8  call ?   %7 num const num 0 %6 num
	ret %8
enddef

def num main
	%0  call fib const num 10
	ret %0
enddef
